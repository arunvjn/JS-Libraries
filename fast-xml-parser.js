!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).fastXmlParser=t()}}(function(){return function(){return function t(e,n,r){function i(a,o){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){return i(e[a][1][t]||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}}()({1:[function(t,e,n){"use strict";const r=t("./util").buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(t){return t},attrValueProcessor:function(t){return t}},s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function a(t){this.options=r(t,i,s),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.options.cdataTagName?this.isCDATA=p:this.isCDATA=function(){return!1},this.replaceCDATAstr=o,this.replaceCDATAarr=l,this.options.format?(this.indentate=h,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=f,this.buildObjNode=c):(this.buildTextNode=d,this.buildObjNode=u),this.buildTextValNode=d,this.buildObjectNode=u}function o(t,e){return t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t?t+"<![CDATA["+e+"]]"+this.tagEndChar:t.replace(this.options.cdataPositionChar,"<![CDATA["+e+"]]"+this.tagEndChar)}function l(t,e){if(t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t)return t+"<![CDATA["+e.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in e)t=t.replace(this.options.cdataPositionChar,"<![CDATA["+e[n]+"]]>");return t+this.newLine}function u(t,e,n,r){return n&&!t.includes("<")?this.indentate(r)+"<"+e+n+">"+t+"</"+e+this.tagEndChar:this.indentate(r)+"<"+e+n+this.tagEndChar+t+this.indentate(r)+"</"+e+this.tagEndChar}function c(t,e,n,r){return""!==t?this.buildObjectNode(t,e,n,r):this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function d(t,e,n,r){return this.indentate(r)+"<"+e+n+">"+this.options.tagValueProcessor(t)+"</"+e+this.tagEndChar}function f(t,e,n,r){return""!==t?this.buildTextValNode(t,e,n,r):this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function h(t){return this.options.indentBy.repeat(t)}function g(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}function p(t){return t===this.options.cdataTagName}a.prototype.parse=function(t){return this.j2x(t,0).val},a.prototype.j2x=function(t,e){let n="",r="";const i=Object.keys(t),s=i.length;for(let a=0;a<s;a++){const s=i[a];if(void 0===t[s]);else if(null===t[s])r+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)r+=this.buildTextNode(t[s],s,"",e);else if("object"!=typeof t[s]){const i=this.isAttribute(s);i?n+=" "+i+'="'+this.options.attrValueProcessor(""+t[s])+'"':this.isCDATA(s)?t[this.options.textNodeName]?r+=this.replaceCDATAstr(t[this.options.textNodeName],t[s]):r+=this.replaceCDATAstr("",t[s]):s===this.options.textNodeName?t[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+t[s])):r+=this.buildTextNode(t[s],s,"",e)}else if(Array.isArray(t[s]))if(this.isCDATA(s))r+=this.indentate(e),t[this.options.textNodeName]?r+=this.replaceCDATAarr(t[this.options.textNodeName],t[s]):r+=this.replaceCDATAarr("",t[s]);else{const n=t[s].length;for(let i=0;i<n;i++){const n=t[s][i];if(void 0===n);else if(null===n)r+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if("object"==typeof n){const t=this.j2x(n,e+1);r+=this.buildObjNode(t.val,s,t.attrStr,e)}else r+=this.buildTextNode(n,s,"",e)}}else if(this.options.attrNodeName&&s===this.options.attrNodeName){const e=Object.keys(t[s]),r=e.length;for(let i=0;i<r;i++)n+=" "+e[i]+'="'+this.options.attrValueProcessor(""+t[s][e[i]])+'"'}else{const n=this.j2x(t[s],e+1);r+=this.buildObjNode(n.val,s,n.attrStr,e)}}return{attrStr:n,val:r}},e.exports=a},{"./util":6}],2:[function(t,e,n){"use strict";const r=function(t){return String.fromCharCode(t)},i={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},s=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],a=function(t,e,n){if("string"==typeof e)return t&&t[0]&&void 0!==t[0].val?o(t[0].val,e):o(t,e);{const s=void 0===(r=t)?i.missingChar:null===r?i.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||i.emptyChar;if(!0===s){let r="";if(Array.isArray(e)){r+=i.arrStart;const s=e[0],u=t.length;if("string"==typeof s)for(let e=0;e<u;e++){const n=o(t[e].val,s);r=l(r,n)}else for(let e=0;e<u;e++){const i=a(t[e],s,n);r=l(r,i)}r+=i.arrayEnd}else{r+=i.objStart;const s=Object.keys(e);Array.isArray(t)&&(t=t[0]);for(let i in s){const o=s[i];let u;u=!n.ignoreAttributes&&t.attrsMap&&t.attrsMap[o]?a(t.attrsMap[o],e[o],n):o===n.textNodeName?a(t.val,e[o],n):a(t.child[o],e[o],n),r=l(r,u)}}return r}return s}var r},o=function(t){switch(t){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return t}},l=function(t,e){return u(e[0])||u(t[t.length-1])||(t+=i.boundryChar),t+e},u=function(t){return-1!==s.indexOf(t)};const c=t("./xmlstr2xmlnode"),d=t("./util").buildOptions;n.convert2nimn=function(t,e,n){return n=d(n,c.defaultOptions,c.props),a(t,e,n)}},{"./util":6,"./xmlstr2xmlnode":9}],3:[function(t,e,n){"use strict";const r=t("./util"),i=function(t,e){const n={};if(!(t.child&&!r.isEmptyObject(t.child)||t.attrsMap&&!r.isEmptyObject(t.attrsMap)))return r.isExist(t.val)?t.val:"";r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&("strict"===e.arrayMode?n[e.textNodeName]=[t.val]:n[e.textNodeName]=t.val),r.merge(n,t.attrsMap,e.arrayMode);const s=Object.keys(t.child);for(let r=0;r<s.length;r++){var a=s[r];if(t.child[a]&&t.child[a].length>1)for(var o in n[a]=[],t.child[a])n[a].push(i(t.child[a][o],e));else if(!0===e.arrayMode){const r=i(t.child[a][0],e);n[a]="object"==typeof r?[r]:r}else"strict"===e.arrayMode?n[a]=[i(t.child[a][0],e)]:n[a]=i(t.child[a][0],e)}return n};n.convertToJson=i},{"./util":6}],4:[function(t,e,n){"use strict";const r=t("./util"),i=t("./util").buildOptions,s=t("./xmlstr2xmlnode"),a=function(t,e,n){let i="{";const s=Object.keys(t.child);for(let n=0;n<s.length;n++){var o=s[n];if(t.child[o]&&t.child[o].length>1){for(var l in i+='"'+o+'" : [ ',t.child[o])i+=a(t.child[o][l],e)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+o+'" : '+a(t.child[o][0],e)+" ,"}return r.merge(i,t.attrsMap),r.isEmptyObject(i)?r.isExist(t.val)?t.val:"":(r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&(i+='"'+e.textNodeName+'" : '+(!0!==(u=t.val)&&!1!==u&&isNaN(u)?'"'+u+'"':u)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}");var u};n.convertToJsonString=function(t,e){return(e=i(e,s.defaultOptions,s.props)).indentBy=e.indentBy||"",a(t,e,0)}},{"./util":6,"./xmlstr2xmlnode":9}],5:[function(t,e,n){"use strict";const r=t("./node2json"),i=t("./xmlstr2xmlnode"),s=t("./xmlstr2xmlnode"),a=t("./util").buildOptions,o=t("./validator");n.parse=function(t,e,n){if(n){!0===n&&(n={});const e=o.validate(t,n);if(!0!==e)throw Error(e.err.msg)}e=a(e,s.defaultOptions,s.props);const l=i.getTraversalObj(t,e);return r.convertToJson(l,e)},n.convertTonimn=t("../src/nimndata").convert2nimn,n.getTraversalObj=i.getTraversalObj,n.convertToJson=r.convertToJson,n.convertToJsonString=t("./node2json_str").convertToJsonString,n.validate=o.validate,n.j2xParser=t("./json2xml"),n.parseToNimn=function(t,e,r){return n.convertTonimn(n.getTraversalObj(t,r),e,r)}},{"../src/nimndata":2,"./json2xml":1,"./node2json":3,"./node2json_str":4,"./util":6,"./validator":7,"./xmlstr2xmlnode":9}],6:[function(t,e,n){"use strict";const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i="["+r+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+i+"$");n.isExist=function(t){return void 0!==t},n.isEmptyObject=function(t){return 0===Object.keys(t).length},n.merge=function(t,e,n){if(e){const r=Object.keys(e),i=r.length;for(let s=0;s<i;s++)t[r[s]]="strict"===n?[e[r[s]]]:e[r[s]]}},n.getValue=function(t){return n.isExist(t)?t:""},n.buildOptions=function(t,e,n){var r={};if(!t)return e;for(let i=0;i<n.length;i++)void 0!==t[n[i]]?r[n[i]]=t[n[i]]:r[n[i]]=e[n[i]];return r},n.isName=function(t){const e=s.exec(t);return!(null==e)},n.getAllMatches=function(t,e){const n=[];let r=e.exec(t);for(;r;){const i=[],s=r.length;for(let t=0;t<s;t++)i.push(r[t]);n.push(i),r=e.exec(t)}return n},n.nameRegexp=i},{}],7:[function(t,e,n){"use strict";const r=t("./util"),i={allowBooleanAttributes:!1},s=["allowBooleanAttributes"];function a(t,e){for(var n=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var r=t.substr(n,e-n);if(e>5&&"xml"===r)return g("InvalidXml","XML declaration allowed only at the start of the document.",m(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function o(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&0===--n)break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}n.validate=function(t,e){e=r.buildOptions(e,i,s);const n=[];let l=!1,u=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let i=0;i<t.length;i++){if("<"!==t[i]){if(" "===t[i]||"\t"===t[i]||"\n"===t[i]||"\r"===t[i])continue;return g("InvalidChar","char '"+t[i]+"' is not expected.",m(t,i))}if("?"===t[++i]){if((i=a(t,++i)).err)return i}else{if("!"===t[i]){i=o(t,i);continue}{let s=!1;"/"===t[i]&&(s=!0,i++);let a="";for(;i<t.length&&">"!==t[i]&&" "!==t[i]&&"\t"!==t[i]&&"\n"!==t[i]&&"\r"!==t[i];i++)a+=t[i];if("/"===(a=a.trim())[a.length-1]&&(a=a.substring(0,a.length-1),i--),d=a,!r.isName(d)){let e;return g("InvalidTag",e=0===a.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+a+"' is an invalid name.",m(t,i))}const p=c(t,i);if(!1===p)return g("InvalidAttr","Attributes for '"+a+"' have open quote.",m(t,i));let b=p.value;if(i=p.index,"/"===b[b.length-1]){const n=f(b=b.substring(0,b.length-1),e);if(!0!==n)return g(n.err.code,n.err.msg,m(t,i-b.length+n.err.line));l=!0}else if(s){if(!p.tagClosed)return g("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",m(t,i));if(b.trim().length>0)return g("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",m(t,i));{const e=n.pop();if(a!==e)return g("InvalidTag","Closing tag '"+e+"' is expected inplace of '"+a+"'.",m(t,i));0==n.length&&(u=!0)}}else{const r=f(b,e);if(!0!==r)return g(r.err.code,r.err.msg,m(t,i-b.length+r.err.line));if(!0===u)return g("InvalidXml","Multiple possible root nodes found.",m(t,i));n.push(a),l=!0}for(i++;i<t.length;i++){if("<"===t[i]){if("!"===t[i+1]){i=o(t,++i);continue}break}if("&"===t[i]){const e=h(t,i);if(-1==e)return g("InvalidChar","char '&' is not expected.",m(t,i));i=e}}"<"===t[i]&&i--}}}var d;return l?!(n.length>0)||g("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):g("InvalidXml","Start tag expected.",1)};var l='"',u="'";function c(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===l||t[e]===u)if(""===r)r=t[e];else{if(r!==t[e])continue;r=""}else if(">"===t[e]&&""===r){i=!0;break}n+=t[e]}return""===r&&{value:n,index:e,tagClosed:i}}const d=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function f(t,e){const n=r.getAllMatches(t,d),i={};for(let r=0;r<n.length;r++){if(0===n[r][1].length)return g("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",b(t,n[r][0]));if(void 0===n[r][3]&&!e.allowBooleanAttributes)return g("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",b(t,n[r][0]));const s=n[r][2];if(!p(s))return g("InvalidAttr","Attribute '"+s+"' is an invalid name.",b(t,n[r][0]));if(i.hasOwnProperty(s))return g("InvalidAttr","Attribute '"+s+"' is repeated.",b(t,n[r][0]));i[s]=1}return!0}function h(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function g(t,e,n){return{err:{code:t,msg:e,line:n}}}function p(t){return r.isName(t)}function m(t,e){return t.substring(0,e).split(/\r?\n/).length}function b(t,e){return t.indexOf(e)+e.length}},{"./util":6}],8:[function(t,e,n){"use strict";e.exports=function(t,e,n){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=n,this.addChild=function(t){Array.isArray(this.child[t.tagname])?this.child[t.tagname].push(t):this.child[t.tagname]=[t]}}},{}],9:[function(t,e,n){"use strict";const r=t("./util"),i=t("./util").buildOptions,s=t("./xmlNode");"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(t,e){return t},attrValueProcessor:function(t,e){return t},stopNodes:[]};n.defaultOptions=a;const o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function l(t,e,n){return e&&(n.trimValues&&(e=e.trim()),e=c(e=n.tagValueProcessor(e,t),n.parseNodeValue,n.parseTrueNumberOnly)),e}function u(t,e){if(e.ignoreNameSpace){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}function c(t,e,n){if(e&&"string"==typeof t){let e;return""===t.trim()||isNaN(t)?e="true"===t||"false"!==t&&t:(-1!==t.indexOf("0x")?e=Number.parseInt(t,16):-1!==t.indexOf(".")?(e=Number.parseFloat(t),t=t.replace(/\.?0+$/,"")):e=Number.parseInt(t,10),n&&(e=String(e)===t?e:t)),e}return r.isExist(t)?t:""}n.props=o;const d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function f(t,e){if(!e.ignoreAttributes&&"string"==typeof t){t=t.replace(/\r?\n/g," ");const n=r.getAllMatches(t,d),i=n.length,s={};for(let t=0;t<i;t++){const r=u(n[t][1],e);r.length&&(void 0!==n[t][4]?(e.trimValues&&(n[t][4]=n[t][4].trim()),n[t][4]=e.attrValueProcessor(n[t][4],r),s[e.attributeNamePrefix+r]=c(n[t][4],e.parseAttributeValue,e.parseTrueNumberOnly)):e.allowBooleanAttributes&&(s[e.attributeNamePrefix+r]=!0))}if(!Object.keys(s).length)return;if(e.attrNodeName){const t={};return t[e.attrNodeName]=s,t}return s}}function h(t,e){let n,r="";for(let i=e;i<t.length;i++){let e=t[i];if(n)e===n&&(n="");else if('"'===e||"'"===e)n=e;else{if(">"===e)return{data:r,index:i};"\t"===e&&(e=" ")}r+=e}}function g(t,e,n,r){const i=t.indexOf(e,n);if(-1===i)throw new Error(r);return i+e.length-1}n.getTraversalObj=function(t,e){t=t.replace(/\r\n?/g,"\n"),e=i(e,a,o);const n=new s("!xml");let u=n,c="";for(let n=0;n<t.length;n++)if("<"===t[n])if("/"===t[n+1]){const i=g(t,">",n,"Closing Tag is not closed.");let s=t.substring(n+2,i).trim();if(e.ignoreNameSpace){const t=s.indexOf(":");-1!==t&&(s=s.substr(t+1))}u&&(u.val?u.val=r.getValue(u.val)+""+l(s,c,e):u.val=l(s,c,e)),e.stopNodes.length&&e.stopNodes.includes(u.tagname)&&(u.child=[],null==u.attrsMap&&(u.attrsMap={}),u.val=t.substr(u.startIndex+1,n-u.startIndex-1)),u=u.parent,c="",n=i}else if("?"===t[n+1])n=g(t,"?>",n,"Pi Tag is not closed.");else if("!--"===t.substr(n+1,3))n=g(t,"--\x3e",n,"Comment is not closed.");else if("!D"===t.substr(n+1,2)){const e=g(t,">",n,"DOCTYPE is not closed.");n=t.substring(n,e).indexOf("[")>=0?t.indexOf("]>",n)+1:e}else if("!["===t.substr(n+1,2)){const i=g(t,"]]>",n,"CDATA is not closed.")-2,a=t.substring(n+9,i);if(c&&(u.val=r.getValue(u.val)+""+l(u.tagname,c,e),c=""),e.cdataTagName){const t=new s(e.cdataTagName,u,a);u.addChild(t),u.val=r.getValue(u.val)+e.cdataPositionChar,a&&(t.val=a)}else u.val=(u.val||"")+(a||"");n=i+2}else{const i=h(t,n+1);let a=i.data;const o=i.index,d=a.indexOf(" ");let g=a;if(-1!==d&&(g=a.substr(0,d).replace(/\s\s*$/,""),a=a.substr(d+1)),e.ignoreNameSpace){const t=g.indexOf(":");-1!==t&&(g=g.substr(t+1))}if(u&&c&&"!xml"!==u.tagname&&(u.val=r.getValue(u.val)+""+l(u.tagname,c,e)),a.length>0&&a.lastIndexOf("/")===a.length-1){a="/"===g[g.length-1]?g=g.substr(0,g.length-1):a.substr(0,a.length-1);const t=new s(g,u,"");g!==a&&(t.attrsMap=f(a,e)),u.addChild(t)}else{const t=new s(g,u);e.stopNodes.length&&e.stopNodes.includes(t.tagname)&&(t.startIndex=o),g!==a&&(t.attrsMap=f(a,e)),u.addChild(t),u=t}c="",n=o}else c+=t[n];return n}},{"./util":6,"./xmlNode":8}]},{},[5])(5)});
